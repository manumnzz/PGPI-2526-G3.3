{% extends "base.html" %}
{% load static %}
{% block content %}

<style>

.crear-wrapper {
    max-width: 1000px;
    margin: 40px auto;
    background: white;
    padding: 35px;
    border-radius: 20px;
    border: 2px solid #00a7a7;
    box-shadow: 0px 6px 20px rgba(0,0,0,0.15);
}

.crear-grid {
    display: grid;
    grid-template-columns: 1fr 280px;
    gap: 40px;
}

/* Calendario */
.calendar-box {
    padding: 20px;
    border-radius: 15px;
    border: 2px solid #00a7a7;
}

.calendar-title {
    text-align: center;
    font-size: 26px;
    font-weight: bold;
    color: #007f7f;
}

/* Fechas */
.date-input {
    width: 100%;
    border: 2px solid #00a7a7;
    padding: 10px;
    border-radius: 10px;
}

/* Selector de hora */
.hour-box {
    border-radius: 15px;
    border: 2px solid #00a7a7;
    padding: 20px;
}

.hour-btn {
    width: 100%;
    padding: 14px;
    border-radius: 12px;
    background: #e6ffff;
    color: #006060;
    margin-bottom: 12px;
    border: 2px solid #009999;
    font-weight: bold;
    transition: 0.15s;
}

.hour-btn:hover {
    background: #00c8c8;
    color: white;
}

/* Desplegables */
.selector {
    width: 100%;
    padding: 12px;
    border-radius: 10px;
    border: 2px solid #00a7a7;
    margin-top: 10px;
}

/* Botón reservar */
.btn-reservar {
    background: #00b5c3;
    border: none;
    border-radius: 20px;
    padding: 14px;
    color: white;
    width: 100%;
    font-size: 20px;
    font-weight: bold;
    margin-top: 15px;
}

.btn-reservar:hover {
    background: #0092a0;
}

</style>

<div class="crear-wrapper">

    <h2 class="text-center mb-4">Reservar Cita</h2>

    <form method="POST">
        {% csrf_token %}

        <div class="crear-grid">

            <!-- IZQUIERDA — Calendario + Selectores -->
            <div>

                <div class="calendar-box mb-4">
                    <h3 class="calendar-title">Selecciona una fecha</h3>
                    <input type="date" name="fecha" class="date-input" required>
                </div>

                <label><strong>Servicio:</strong></label>
                <select name="service_id" class="selector" id="serviceSelector" required>
                    {% for s in services %}
                        <option value="{{ s.id }}" {% if s.id == service.id %}selected{% endif %}>
                            {{ s.title }}
                        </option>
                    {% endfor %}
                </select>

                <label class="mt-3"><strong>Tarifa:</strong></label>
                <select name="tarifa_id" class="selector" id="tarifaSelector" required>
                    {% for t in tarifas %}
                        <option value="{{ t.id }}" {% if t.id == tarifa.id %}selected{% endif %}>
                            {{ t.title }} — €{{ t.price }}
                        </option>
                    {% endfor %}
                </select>

            </div>

            <!-- DERECHA — Horas -->
            <div class="hour-box">
                <p class="fw-bold text-center">Seleccione hora:</p>

                <select name="hora" class="selector" required>
                    <option>10:00</option>
                    <option>10:30</option>
                    <option>11:00</option>
                    <option>11:30</option>
                    <option>12:00</option>
                    <option>12:30</option>
                    <option>13:00</option>
                    <option>13:30</option>
                    <option>17:00</option>
                    <option>17:30</option>
                    <option>18:00</option>
                    <option>18:30</option>

                    
                </select>

                <button class="btn-reservar">RESERVAR</button>
            </div>

        </div>

        <p class="text-center mt-3">
            <small>
                Confirma tu cita.  
                Si tuvieras algún problema, por favor comunícamelo con 24h de antelación.
            </small>
        </p>

    </form>

</div>

{% endblock %}

{% extends "base.html" %}
{% load static %}

{% block content %}

<!-- =========================== -->
<!--          HERO TOP           -->
<!-- =========================== -->

<section class="hero-servicios">
    <img src="{% static 'servicios.png' %}" class="hero-bg">
</section>


<!-- =========================== -->
<!--       SLIDER SERVICIOS      -->
<!-- =========================== -->

<section class="servicios-slider-section">

    <div class="slider-container">

        <button class="slider-btn left" onclick="moveSlide(-1)">&#8249;</button>

        <div class="slider-wrapper" id="serviciosSlider">

            {% for s in servicios %}
            <div class="slide">
                <div class="slide-content">

                    <div class="slide-text">
                        <h4 class="slide-subtitle">{{ s.subtitle }}</h4>
                        <h2 class="slide-title">{{ s.title }}</h2>

                        <p class="slide-description">
                            {{ s.description }}
                        </p>

                        <a href="/citas/" class="btn-reservar">
                            RESERVA TU SESIÓN DE {{ s.title|upper }}
                        </a>
                    </div>

                    <div class="slide-image">
                        {% if s.image %}
                        <img src="{{ s.image.url }}" alt="{{ s.title }}">
                        {% endif %}
                    </div>

                </div>
            </div>
            {% endfor %}

        </div>

        <button class="slider-btn right" onclick="moveSlide(1)">&#8250;</button>

    </div>

    <!-- Dots -->
    <div class="dots">
        {% for s in servicios %}
        <span class="dot" onclick="goToSlide({{ forloop.counter0 }})"></span>
        {% endfor %}
    </div>

</section>



<!-- =========================== -->
<!--          TARIFAS            -->
<!-- =========================== -->

<section class="tarifas-section">

    <h2 class="tarifas-title">Consulta nuestras tarifas</h2>

    <div class="tarifas-grid">

        {% for t in tarifas %}
        <div class="tarifa-card {% if forloop.counter == 2 %}tarifa-active{% endif %}">
            <h4 class="tarifa-name">{{ t.title }}</h4>
            <p class="tarifa-price">€{{ t.price }}</p>

            {% if t.description %}
            <p class="tarifa-desc">{{ t.description }}</p>
            {% endif %}

            <a href="/citas/" class="tarifa-btn">RESERVAR</a>
        </div>
        {% endfor %}

    </div>

</section>



<!-- =========================== -->
<!--            CSS              -->
<!-- =========================== -->

<style>

/* ---------- HERO ---------- */
.hero-servicios {
    position: relative;
    width: 100%;
    height: 280px;
    overflow: hidden;
}

.hero-servicios .hero-bg {
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: brightness(0.7);
}


/* ---------- SLIDER ---------- */

.servicios-slider-section {
    padding: 50px 0;
}

.slider-container {
    position: relative;
    display: flex;
    align-items: center;
}

.slider-btn {
    background: #02A8A8;
    border: none;
    color: white;
    font-size: 32px;
    padding: 8px 14px;
    border-radius: 8px;
    cursor: pointer;
    z-index: 10;
}

.slider-wrapper {
    display: flex;
    overflow: hidden;
    width: 100%;
}

.slide {
    min-width: 100%;
    transition: 0.4s ease-in-out;
    padding: 20px 40px;
}

.slide-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.slide-text {
    width: 48%;
}

.slide-subtitle {
    font-size: 14px;
    text-transform: uppercase;
    color: #008080;
}

.slide-title {
    font-size: 34px;
    color: #006666;
    font-weight: bold;
}

.slide-description {
    margin-top: 10px;
    color: #444;
    font-size: 16px;
    line-height: 1.6;
    white-space: normal;
    overflow: visible;
    max-height: none;
}

.btn-reservar {
    display: inline-block;
    background: #02A8A8;
    color: white;
    padding: 12px 30px;
    border-radius: 6px;
    margin-top: 20px;
    text-decoration: none;
}

.slide-image img {
    width: 420px;
    border-radius: 10px;
}


/* Dots */
.dots {
    text-align: center;
    margin-top: 20px;
}

.dot {
    height: 10px;
    width: 10px;
    margin: 0 4px;
    background-color: #bbb;
    border-radius: 50%;
    display: inline-block;
    cursor: pointer;
}

.dot.active {
    background-color: #02A8A8;
}


/* ---------- TARIFAS ---------- */

.tarifas-section {
    padding: 50px 0 80px;
}

.tarifas-title {
    text-align: left;
    margin-left: 40px;
    font-size: 28px;
    font-weight: bold;
    color: #008080;
}

.tarifas-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 25px;
    padding: 40px;
}

.tarifa-card {
    background: white;
    border-radius: 12px;
    padding: 25px;
    text-align: center;
    border: 1px solid #ddd;
}

.tarifa-active {
    background: #004f4f;
    color: white;
}

.tarifa-price {
    font-size: 32px;
    font-weight: bold;
    color: #00A859;
}

.tarifa-active .tarifa-price {
    color: white;
}

.tarifa-btn {
    display: block;
    margin-top: 15px;
    background: #02A8A8;
    color: white;
    padding: 10px 20px;
    border-radius: 6px;
    text-decoration: none;
}

</style>




<!-- =========================== -->
<!--        JAVASCRIPT           -->
<!-- =========================== -->

<script>
document.addEventListener("DOMContentLoaded", function () {

    let currentSlide = 0;

    const slides = document.querySelectorAll(".slide");
    const slider = document.getElementById("serviciosSlider");
    const dots = document.querySelectorAll(".dot");

    function updateSlider() {
        slider.style.transform = `translateX(-${currentSlide * 100}%)`;
        dots.forEach(d => d.classList.remove("active"));
        dots[currentSlide].classList.add("active");
    }

    window.moveSlide = function (direction) {
        currentSlide = (currentSlide + direction + slides.length) % slides.length;
        updateSlider();
    }

    window.goToSlide = function (n) {
        currentSlide = n;
        updateSlider();
    }

    updateSlider();
});
</script>


{% endblock %}
